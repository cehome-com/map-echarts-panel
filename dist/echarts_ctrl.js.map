{"version":3,"sources":["../src/echarts_ctrl.js"],"names":["MetricsPanelCtrl","_","echarts","EchartsCtrl","$scope","$injector","panelDefaults","EchartsOption","IS_MAP","map","METHODS","USE_URL","USE_FAKE_DATA","fakeData","url","method","params","updateInterval","provinces","maps","paramValue","defaults","panel","events","on","onDataReceived","bind","onDataError","onInitEditMode","render","updateData","that","xmlhttp","data","eval","window","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","JSON","parse","responseText","open","send","setRequestHeader","$timeout","dataList","IS_DATA_CHANGED","addEditorTab","mapCode","name","myChart","$","get","registerMap","option","title","text","left","textStyle","color","fontSize","geo","itemStyle","normal","areaColor","borderColor","emphasis","label","show","backgroundColor","series","type","coordinateSystem","symbol","symbolSize","setOption","scope","elem","attrs","ctrl","$panelContainer","find","echartsData","init","setTimeout","resize","clear","alert","loadMap","timeFn","clearTimeout","renderingCompleted","templateUrl"],"mappings":"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","file":"echarts_ctrl.js","sourcesContent":["import { MetricsPanelCtrl } from 'app/plugins/sdk'; // eslint-disable-line\r\nimport _ from 'lodash';\r\nimport echarts from './libs/echarts.min'; // eslint-disable-line\r\nimport './libs/echarts-liquidfill.min'; // eslint-disable-line\r\nimport './libs/echarts-wordcloud.min'; // eslint-disable-line\r\nimport './libs/dark'; // eslint-disable-line\r\nimport './css/style.css!'; // eslint-disable-line\r\n//import './libs/bmap.js'; // eslint-disable-line\r\nimport './libs/china.js' // eslint-disable-line\r\nimport './libs/beijing.js'// eslint-disable-line\r\nimport './libs/jiangxi.js'// eslint-disable-line\r\n//import './libs/getBmap.js'; // eslint-disable-line\r\n\r\nexport class EchartsCtrl extends MetricsPanelCtrl { // eslint-disable-line\r\n\r\n  constructor($scope, $injector) {\r\n    super($scope, $injector);\r\n\r\n    const panelDefaults = {\r\n      EchartsOption: 'console.log(JSON.stringify(echartsData));\\n\\noption = {};',\r\n      IS_MAP: false,\r\n      map: '',\r\n      METHODS: ['POST', 'GET'],\r\n      USE_URL: false,\r\n      USE_FAKE_DATA: true,\r\n      fakeData: '',\r\n      url: '',\r\n      method: 'GET',\r\n      params: '',\r\n      updateInterval: 10000,\r\n    };\r\n\r\n    this.provinces = {\r\n                 '上海':'public/plugins/map-echarts-panel/libs/shanghai.js',\r\n                 '河北':'public/plugins/map-echarts-panel/libs/hebei.js',\r\n                 '山西':'public/plugins/map-echarts-panel/libs/shanxi.js',\r\n                 '内蒙古':'public/plugins/map-echarts-panel/libs/neimenggu.js',\r\n                 '辽宁':'public/plugins/map-echarts-panel/libs/liaoning.js',\r\n                 '吉林':'public/plugins/map-echarts-panel/libs/jilin.js',\r\n                 '黑龙江':'public/plugins/map-echarts-panel/libs/heilongjiang.js',\r\n                 '江苏':'public/plugins/map-echarts-panel/libs/jiangsu.js',\r\n                 '浙江':'public/plugins/map-echarts-panel/libs/zhejiang.js',\r\n                 '安徽':'public/plugins/map-echarts-panel/libs/anhui.js',\r\n                 '福建':'public/plugins/map-echarts-panel/libs/fujian.js',\r\n                 '江西':'public/plugins/map-echarts-panel/libs/data-jiangxi.json',\r\n                 '山东':'public/plugins/map-echarts-panel/libs/shandong.js',\r\n                 '河南':'public/plugins/map-echarts-panel/libs/henan.js',\r\n                 '湖北':'public/plugins/map-echarts-panel/libs/hubei.js',\r\n                 '湖南':'public/plugins/map-echarts-panel/libs/hunan.js',\r\n                 '广东':'public/plugins/map-echarts-panel/libs/guangdong.js',\r\n                 '广西':'public/plugins/map-echarts-panel/libs/guangxi.js',\r\n                 '海南':'public/plugins/map-echarts-panel/libs/hainan.js',\r\n                 '四川':'public/plugins/map-echarts-panel/libs/sichuan.js',\r\n                 '贵州':'public/plugins/map-echarts-panel/libs/guizhou.js',\r\n                 '云南':'public/plugins/map-echarts-panel/libs/yunnan.js',\r\n                 '西藏':'public/plugins/map-echarts-panel/libs/xizang.js',\r\n                 '陕西':'public/plugins/map-echarts-panel/libs/shanxi1.js',\r\n                 '甘肃':'public/plugins/map-echarts-panel/libs/gansu.js',\r\n                 '青海':'public/plugins/map-echarts-panel/libs/qinghai.js',\r\n                 '宁夏':'public/plugins/map-echarts-panel/libs/ningxia.js',\r\n                 '新疆':'public/plugins/map-echarts-panel/libs/xinjiang.js',\r\n                 '北京':'public/plugins/map-echarts-panel/libs/data-beijing.json',\r\n                 '天津':'public/plugins/map-echarts-panel/libs/tianjin.js',\r\n                 '重庆':'public/plugins/map-echarts-panel/libs/chongqing.js',\r\n                 '香港':'public/plugins/map-echarts-panel/libs/xianggang.js',\r\n                 '澳门':'public/plugins/map-echarts-panel/libs/aomen.js',\r\n                 '台湾':'public/plugins/map-echarts-panel/libs/taiwan.js'\r\n             };\r\n\r\n    this.maps = ['世界', '中国', '河北'];\r\n\r\n    this.paramValue = '';\r\n\r\n    _.defaults(this.panel, panelDefaults);\r\n\r\n    this.events.on('data-received', this.onDataReceived.bind(this));\r\n    this.events.on('data-error', this.onDataError.bind(this));\r\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\r\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n    this.events.on('panel-initialized', this.render.bind(this));\r\n\r\n    this.updateData();\r\n  }\r\n\r\n  //请求\r\n  updateData() {\r\n    const that = this;\r\n    let xmlhttp;\r\n    if (this.panel.USE_URL && this.panel.USE_FAKE_DATA && this.panel.fakeData) {\r\n      this.data = eval(this.panel.fakeData);\r\n    } else if (that.panel.USE_URL && !that.panel.USE_FAKE_DATA && that.panel.url && that.panel.method) {\r\n      if (window.XMLHttpRequest) {\r\n        xmlhttp = new XMLHttpRequest();\r\n      } else {\r\n        xmlhttp = new ActiveXObject('Microsoft.XMLHTTP'); // eslint-disable-line\r\n      }\r\n      xmlhttp.onreadystatechange = () => {\r\n        if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {\r\n          that.data = JSON.parse(xmlhttp.responseText);\r\n          that.onDataReceived();\r\n        }\r\n      };\r\n      if(that.panel.method == 'GET'){\r\n          if(that.paramValue == ''){\r\n            xmlhttp.open(that.panel.method, that.panel.url, true);\r\n          }else{\r\n            xmlhttp.open(that.panel.method, that.panel.url + that.paramValue, true);\r\n          }\r\n          xmlhttp.send();\r\n      }else{\r\n        xmlhttp.open(that.panel.method, that.panel.url, true);\r\n        xmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\r\n        xmlhttp.send(that.panel.params);\r\n      }\r\n\r\n    } else {\r\n      xmlhttp = null;\r\n    }\r\n    this.$timeout(() => { this.updateData(); }, that.panel.updateInterval);\r\n  }\r\n\r\n  onDataReceived(dataList) {\r\n    this.data = !this.panel.USE_URL && !this.panel.USE_FAKE_DATA ? dataList : this.data;\r\n//    alert('onDataReceived-----' + JSON.stringify(this.data))\r\n    this.IS_DATA_CHANGED = true;\r\n    this.render();\r\n    this.IS_DATA_CHANGED = false;\r\n  }\r\n\r\n  onDataError() {\r\n    this.render();\r\n  }\r\n\r\n  onInitEditMode() {\r\n    this.addEditorTab('Data Source', 'public/plugins/map-echarts-panel/partials/editer-metric.html', 2);\r\n    this.addEditorTab('Ecahrts Configuration', 'public/plugins/map-echarts-panel/partials/editor-echarts.html', 3);\r\n  }\r\n\r\n  loadMap(mapCode,name,myChart) {\r\n     let that = this;\r\n      $.get(mapCode, function(data) {\r\n          if (data) {\r\n              echarts.registerMap(name, data);\r\n              var option = {\r\n                  title : {\r\n                      text: name,\r\n                      left: 'center',\r\n                      textStyle:{color:'#ffffff',fontSize:12}\r\n                  },\r\n                  geo: {\r\n                      map: name,\r\n                      itemStyle: {\r\n                          normal: {areaColor: '#08affe' ,borderColor:'#08affe'},\r\n                          emphasis: {areaColor: '#08affe' }\r\n                      },\r\n                      label: {\r\n                          normal: {\r\n                              show: false\r\n                          },\r\n                          emphasis: {\r\n                              show: false\r\n                          }\r\n                      }\r\n                  },\r\n                  backgroundColor: '#21242b',\r\n                  series: [\r\n                      {\r\n                          type: 'scatter',\r\n                          coordinateSystem: 'geo',\r\n                          symbol:'pin',\r\n                          symbolSize:12,\r\n                          data:that.data\r\n\r\n                      }\r\n                  ]\r\n              };\r\n//              alert('loadMap---' + JSON.stringify(that.data))\r\n              myChart.setOption(option);\r\n          } else {\r\n//              alert('无法加载该地图');\r\n          }\r\n      });\r\n  }\r\n\r\n  link(scope, elem, attrs, ctrl) {\r\n    const $panelContainer = elem.find('.echarts_container')[0];\r\n    let option = {}; // eslint-disable-line\r\n    let echartsData = []; // eslint-disable-line\r\n\r\n    ctrl.IS_DATA_CHANGED = true;\r\n\r\n    const myChart = echarts.init($panelContainer, 'dark');\r\n\r\n    // bad hank\r\n    setTimeout(() => {\r\n      myChart.resize();\r\n    }, 1000);\r\n\r\n    function render() {\r\n      if (!myChart) {\r\n        return;\r\n      }\r\n      if (ctrl.IS_DATA_CHANGED) {\r\n         myChart.clear();\r\n        if(ctrl.paramValue == ''){\r\n            echartsData = ctrl.data;\r\n            eval(ctrl.panel.EchartsOption);\r\n            myChart.setOption(option);\r\n        }else{\r\n            alert('render---' + ctrl.paramValue)\r\n            let mapCode = ctrl.provinces[ctrl.paramValue];\r\n            ctrl.loadMap(mapCode,ctrl.paramValue,myChart);\r\n        }\r\n      }\r\n      myChart.resize();\r\n    }\r\n\r\n    let timeFn = null;\r\n\r\n    //单击切换到省级地图，当mapCode有值,说明可以切换到下级地图\r\n    myChart.on('click', function(params) {\r\n//        alert('click event----' + params.name);\r\n        clearTimeout(timeFn);\r\n        //由于单击事件和双击事件冲突，故单击的响应事件延迟250毫秒执行\r\n        timeFn = setTimeout(function() {\r\n            var name = params.name; //地区name\r\n            var mapCode = ctrl.provinces[name]; //地区的json数据\r\n            if (!mapCode) {\r\n//                alert('无此区域地图显示');\r\n                return;\r\n            }\r\n            ctrl.paramValue = name;\r\n            ctrl.updateData();\r\n            ctrl.loadMap(mapCode,name,myChart);\r\n            myChart.resize();\r\n        }, 100);\r\n    });\r\n\r\n    this.events.on('render', () => {\r\n      render();\r\n      ctrl.renderingCompleted();\r\n    });\r\n  }\r\n}\r\n\r\nEchartsCtrl.templateUrl = 'module.html';\r\n"]}